---
layout: post
title: Azure - RI (Reserved Instance)
date: 2020-06-02 13:00
author: beierca
comments: true
categories: [ARI, Azure, costs, cpu and ram, Management, reserved instances, saving, Tips]
---
<p><!-- wp:paragraph --></p><p style="text-align:justify;">Hi there</p><p style="text-align:justify;">Today I'm talking about Azure RI (Reserved Instances) and before we get into that have in mind that Microsoft Azure Advisor will show you 5 items to look into such as Cost, Security, High Availability, Operational Excellence and Performance.</p><p style="text-align:justify;">You should consider the following before you Buy virtual machine reserved instances to save money over pay-as-you-go costs</p><p style="text-align:justify;"> </p><ul style="text-align:justify;"><li style="text-align:justify;">RI (reserved instances) can be purchased based on azure vms history usage</li><li style="text-align:justify;">Those recommendations are based on VMS running 24x7</li><li><strong>There's no rollback or shrink</strong> option after we purchase a RI (reserved instance) they can only grow , however we can repurchase whatever vm type / size we need within the same region.</li><li><strong>Scale up and out rules can be applied to vms RI</strong> (reserved instances) e.g. when during a period we need to scale a server cpu, ram we can do it and the next invoice will charge this period usage as hourly (you continue to save on monthly or year upfront) but they charge what exceeded for this scale rule</li><li><strong>The day you purchase the vm - that day will be they day of next invoice</strong><ul><li>Invoice will have all other vms listed then all RI (reserved instances) VMs listed separately</li></ul></li></ul><p style="text-align:justify;">For this exercise we have Azure advisor recommending us to "Buy virtual machine reserved instances to save money over pay-as-you-go costs"</p><p style="text-align:justify;">Go to your Azure Portal \ Advisor (search under All services if needed)</p><p style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/0.png" /></p><p style="text-align:justify;">At the Advisor blade you have on the main screen all items I mentioned before: Cost, Security, High Availability, Operational Excellence and Performance.</p><p style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/1.png" /></p><p style="text-align:justify;">Click on Cost</p><p style="text-align:justify;">Now you have all information you need to take a decision on saving or not if you would follow Microsoft Azure recommendation. </p><p style="text-align:justify;">Click on "Buy virtual machine reserved instances to save money over pay-as-you-go costs"</p><p style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/2.png" /></p><p style="text-align:justify;">On the next screen "Buy reserved instances" you have the Recommendation details and Impacted resources listed. You can also filter the view by subscription.</p><p style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/3.png" /></p><p style="text-align:justify;">At the Virtual Machine column select / click on on the VM_type_size virtual machines in region option to see each recommendation.</p><p style="text-align:justify;"><strong>Standard_DS2_v2 virtual machines in canadaeast : </strong>that means which VMs with the following type I have under this recommendation </p><p style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/4.png" /></p><p style="text-align:justify;">You'll figure that you have 2 VMs with Standard DS2 v2 (2 vcpus, 7 GiB memory) size that fits that recommendation of saving money monthly or upfront (1 or 3 years) </p><p style="text-align:justify;">The <strong>Standard_DS2_v2 vm size </strong>tells you the vm size you need to purchase</p><p style="text-align:justify;"><strong>The recommendation says:</strong></p><div class="ext-ripane-div ext-ripane-text-large" style="text-align:justify;">Recommended quantity: 2</div><div class="ext-ripane-div ext-ripane-text-large" style="text-align:justify;">Currently deployed virtual machines: 2</div><div style="text-align:justify;"> </div><div class="ext-ripane-div ext-ripane-text-large" style="text-align:justify;">Which means buy 2 x Standard DS2 v2 (2 vcpus, 7 GiB memory) your currently vm size to fit 2 vms you have deployed with that size.</div><div style="text-align:justify;"> </div><div style="text-align:justify;">I think on RI (reserved instances) as cpu and ram that I can use from a physical host with limited growth.</div><div style="text-align:justify;"> </div><div style="text-align:justify;">If I need 2 x Standard DS2 v2 (2 vcpus, 7 GiB memory) I'd buy 1 physical server (a bucket) with 4 cpus and 14 memory to my 2 vms on it.  However, Azure is smarter then how I'm thinking through here you buy it but you can repurchase or increase your resources using auto-scale rules.</div><div style="text-align:justify;"> </div><div style="text-align:justify;"><strong>3 years - reserved instances cost</strong></div><div style="text-align:justify;"> </div><div style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/5.png" /></div><div style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/6.png" /></div><div style="text-align:justify;"> </div><div style="text-align:justify;"><strong>1 year - reserved instances cost</strong></div><div style="text-align:justify;"> </div><div style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/7.png" /></div><div style="text-align:justify;"><img style="max-width:100%;" src="https://thiagobeierblog.blob.core.windows.net/posts/azure/ri/8.png" /></div><p><!-- /wp:paragraph -->

<!-- wp:paragraph --></p><p>Thanks,</p><p><!-- /wp:paragraph -->

<!-- wp:paragraph --></p><p>Thiago Beier<br /><a href="https://twitter.com/thiagobeier"><img title="Twitter" src="https://socialmediawidgets.files.wordpress.com/2014/03/twitter1.png" alt="Twitter" width="35" height="35" /></a><a href="https://www.linkedin.com/in/tbeier/"><img title="LinkedIn" src="https://socialmediawidgets.files.wordpress.com/2014/03/linkedin1.png" alt="LinkedIn" width="35" height="35" /></a><a href="https://www.facebook.com/TheBeier/"><img title="Facebook" src="https://socialmediawidgets.files.wordpress.com/2014/03/facebook1.png" alt="Facebook" width="35" height="35" /></a><a href="https://thiagobeier.wordpress.com/feed/"><img title="RSS" src="https://socialmediawidgets.files.wordpress.com/2014/03/rss1.png" alt="RSS" width="35" height="35" /></a></p><p><!-- /wp:paragraph --></p>
